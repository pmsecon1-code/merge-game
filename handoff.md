# 멍냥 머지 게임 - Handoff

## 2026-02-02 작업 내용

### 1. 프로젝트 초기화
- 사용자 제공 HTML 코드 분석
- 누락된 `init()` 함수 구현 (보드/창고/상점 셀 생성, 이벤트 등록)
- 누락된 도감 함수 구현 (`openGuide`, `closeModal`, `switchGuideTab`, `upgradeGenerator`)
- 도감 모달 CSS 추가

### 2. 구조 현장 개선
- 3x2 → 3x1로 축소 (6칸 → 3칸)
- 동물 머리 위 불꽃 이모지 + 애니메이션 추가
- 3마리 전체 동시 표시, 구조 성공 시 초록색 배지 표시
- CLICK 튜토리얼 배지 3마리 전체에 표시
- 동물 이모지: 😿(울음), 🙀(깜짝) 랜덤 배치, 3개 동일 방지
- 구조 완료 시 행복 표정 (😺, 😸)으로 변경
- **HELP 말풍선**: HP가 10의 배수를 지날 때 불 오른쪽에 표시

### 3. 상점 개선
- "상점" 라벨 추가
- 마지막 칸에 다이아 판매 (💎x10 = 500🪙)

### 4. 생성기 개선
- 가까운 거리 우선 배치 (맨해튼 거리)
- 케이지 흔들림 + 파티클 효과
- 생성된 아이템에 링 확장 + 반짝이 효과
- Lucky 발생 시 "Lucky!" 텍스트 표시

### 5. 퀘스트 시스템 개선
- 완료 가능 퀘스트 테두리: 무지개색 순환 애니메이션
- 보상 UI 통일: "보상: ㅇㅇ🪙"
- 간식 요구 확률 30% → 15%로 감소

### 6. 스페셜 퀘스트 개선
- 3의 배수 레벨로 순환 (새→물고기→파충류 반복)
- 보상 통일: 500🪙 + 10💎

### 7. 룰렛 개선
- 세그먼트: 0, 70, 30, 50, 90, 100
- 숫자 라벨 표시
- 연속 회전 시 애니메이션 수정 (누적 각도 방식)
- 파란색 그라데이션 (값이 클수록 진한 파랑)

### 8. 보상 구조 변경
- 누적 코인: 칸마다 50🪙
- 구조 달성: 개별 보상 제거, 칸마다 500🪙

### 9. 동물 이모지/색상 구분 강화
- 고양이 Lv.1~5 이모지 전면 변경
- 강아지 전체 색상 대비 강화

### 10. 레이아웃 수정
- 맵 셀 정사각형 고정 (aspect-ratio: 1)
- 전체 화면 스크롤 가능 (상점/창고 접근)
- body overflow-y: auto로 변경

### 11. 버그 수정
- startAnimalHPTimer 한 줄 주석이 코드 무효화하는 문제 수정

---

## 현재 상태

| 시스템 | 상태 |
|--------|------|
| 메인 보드 | 5x8 (40칸), 하단 10칸 잠금, 셀 정사각형 고정 |
| 창고 | 5칸, 다이아로 해제 |
| 구조 현장 | 3x1 (3마리), 😿/🙀 랜덤, HELP 말풍선 |
| 상점 | 4칸 랜덤 + 1칸 다이아 판매 |
| 스페셜 미션 | 새/물고기/파충류 (Lv.3,6,9 + 9n 순환) |

### 고양이 라인업
| Lv | 이모지 | 이름 | 배경색 |
|----|--------|------|--------|
| 1 | 🐱 | 아기 냥이 | 연분홍 |
| 2 | 🐈 | 얼룩 냥이 | 연두 |
| 3 | 🐈‍⬛ | 검은 냥이 | 회색 |
| 4 | 😹 | 웃음 냥이 | 하늘 |
| 5 | 😾 | 뾰로통 냥이 | 주황 |
| 6~11 | 😻😼🙀😽🐯🦁 | ... | 다양 |

### 강아지 라인업
| Lv | 이모지 | 이름 | 배경색 |
|----|--------|------|--------|
| 1 | 🐶 | 아기 멍멍 | 연분홍 |
| 2 | 🐕 | 누렁이 | 노랑 |
| 3 | 🐩 | 푸들 | 연보라 |
| 4 | 🦮 | 안내견 | 연두 |
| 5 | 🐕‍🦺 | 듬직견 | 하늘 |
| 6~11 | 🐺🦊🦝🐼🐻🐻‍❄️ | ... | 다양 |

### 룰렛 구성
| 칸 | 값 | 색상 |
|----|-----|------|
| 1 | 0 | 연파랑 |
| 2 | 70 | 파랑 |
| 3 | 30 | 연파랑 |
| 4 | 50 | 중파랑 |
| 5 | 90 | 진파랑 |
| 6 | 100 | 가장 진한 파랑 |

### 보상 구조
| 항목 | 보상 |
|------|------|
| 퀘스트 완료 | 가변 (20~100🪙) |
| 누적 코인 마일스톤 | 칸마다 50🪙 |
| 구조 달성 마일스톤 | 칸마다 500🪙 (3마리마다) |
| 스페셜 미션 | 500🪙 + 10💎 |
| 레벨업 | 레벨 x 5 💎 |

---

## To-do
- [ ] 게임 저장/불러오기 (localStorage)
- [ ] 사운드 효과 추가
- [ ] 밸런스 조정 (테스트 필요)
- [ ] 모바일 최적화 검증
- [ ] 튜토리얼 확장 (케이지 클릭 안내 등)
